Dependencies
============

You will need the following build dependencies:
  - Gnu Scientific Library, version 1.14
    Debian / Ubuntu: libgsl0-dev, version 1.14+dfsg-1
  - CERN ROOT, version 5.28
    URL: http://root.cern.ch
  - GCC 4.4 C++ compiler
    Debian / Ubuntu: g++-4.4, version 4.4.4-14ubuntu5
  - GNU Standard C++ Library v3
    Debian / Ubuntu: libstdc++-dev, version 4.4.4-14ubuntu5

Other versions or another C++ standard library might work too. The program was
only testet on x86_64 architecture, mainly with Ubuntu 10.10 as provided by the
Excellence Cluster Universe.


Build instructions
==================

  - Copy config.mk.template to config.mk and edit ROOT_DIR to match your setup.
    If the ROOT binaries are located in /opt/ROOT/bin, use:
      ROOT_DIR = /opt/ROOT
  - If the root-config binary is inside your path, you shuld just comment out
    or delete the ROOT_DIR line in config.mk
  - Run make


Build options
=============

The Makefile supports different sets of build options:

  - release will build with multithreading and full optimisations. It
    should only be used, if the code has been throughoutly tested.
  - devel (the default) will build with some optimizations, but without
    threading and with assertions activated. This should be used during
    development.
  - debug will turn on the debugging output, deactivate all optimizations
    and add debugging symbols. This is for finding errors.

To select a set op build options, use for example:

  make BUILD_OPTIONS=release

To set the build options permanently, use

  export BUILD_OPTIONS=release


Running the simulation
======================

  - The main executable ist ./cylindric. It reads parameters from standard
    input. To read the parameters from the file params.txt, use:
      ./cylindric < params.txt
    Additionally, a file named fields.dat is read for the magnetic and
    electric fields. The format is documented inside superpositionfield.cpp.
    For a homogenous magnetic field of 1uT  you would for example use:
      H 0 0 1e-6
  - The output will be written to a ROOT file in the directory output. The file
    name contains the date and time of the run as well as the process ID.
  - Note that there are multithreading issues at the moment, so you have to set
    the number of threads to one when running the release version:
      OMP_NUM_THREADS=1 ./cylindric < params.txt
    The multithreading issuses are not fixed at the moment because run multiple
    processes can be used just as well and the output files can be concatenated
    using TChain from ROOT.

--
vim: et sts=4 ts=4
